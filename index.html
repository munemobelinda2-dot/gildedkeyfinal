<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>The Gilded Key Stays — Luxury Lavington Suite</title>
<meta name="description" content="Luxury Lavington Suite near Junction Mall. King bed, skyline balcony, pool & gym, fast Wi‑Fi, full kitchen, washer/dryer. Book direct & save." />
<link rel="icon" href="https://gildedkeyassets.netlify.app/favicon.png" />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

<style>
:root{--bg:#FAF8F5;--text:#111217;--muted:#6F7278;--brand:#C8A96A;--card:#fff;--shadow:0 10px 30px rgba(0,0,0,.06)}
*{box-sizing:border-box}html,body{margin:0;padding:0}
body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:var(--text);background:var(--bg);line-height:1.6}
h1,h2,h3,h4{font-family:'Cormorant Garamond',Georgia,serif;line-height:1.2;margin:0 0 .5rem}
h1{font-size:clamp(2rem,3.6vw,3.2rem)}h2{font-size:clamp(1.6rem,2.6vw,2.2rem)}
a{color:inherit;text-decoration:none}img{max-width:100%;display:block}
.nav{position:sticky;top:0;z-index:10;display:flex;align-items:center;justify-content:space-between;padding:.9rem 1.2rem;background:rgba(250,248,245,.85);backdrop-filter:blur(6px);border-bottom:1px solid rgba(0,0,0,.05)}
.nav__links a{margin:0 .6rem;font-weight:600}.nav__links .cta{padding:.5rem .9rem;border:1px solid var(--text);border-radius:999px}
.logo{font-weight:700;letter-spacing:.4px}.tag{font-size:.8rem;color:var(--muted)}
.hero{position:relative;overflow:hidden;min-height:65vh;padding:6rem 1.2rem 3rem}
.hero__bg{position:absolute;inset:0;z-index:-1}
.hero__video{width:100%;height:100%;object-fit:cover;filter:brightness(.78)}
.hero__content{max-width:min(1100px,92vw);margin:0 auto;text-align:center;color:#fff}
.pricebadge{display:inline-block;margin:.4rem 0 .2rem;font-weight:700;background:var(--brand);color:#111;padding:.35rem .6rem;border-radius:999px}
.chips{display:flex;gap:.5rem;justify-content:center;flex-wrap:wrap;margin:.3rem 0 .8rem}
.chips span{border:1px solid rgba(255,255,255,.6);color:#fff;padding:.35rem .6rem;border-radius:999px;background:rgba(17,18,23,.35)}
.hero__actions{display:flex;gap:.8rem;justify-content:center;margin:1rem 0}
.btn{display:inline-block;padding:.8rem 1.1rem;border-radius:10px;border:none;cursor:pointer;background:#fff;color:#111;font-weight:700}
.btn--ghost{background:transparent;border:1px solid #fff;color:#fff}
.trust{display:flex;gap:1rem;justify-content:center;color:#f1f1f1;font-size:.95rem;margin-top:.5rem;flex-wrap:wrap}
.section__head{max-width:900px;margin:2rem auto 1rem;padding:0 1.2rem;text-align:center}
.gallery{padding:2rem 0}
.gallery__grid{display:grid;gap:1rem;padding:0 1.2rem;max-width:1100px;margin:0 auto;grid-template-columns:repeat(6,1fr)}
.gallery__grid .card{background:var(--card);border-radius:12px;overflow:hidden;box-shadow:var(--shadow);cursor:pointer}
@media (max-width:920px){.gallery__grid{grid-template-columns:repeat(3,1fr)}}
@media (max-width:560px){.gallery__grid{grid-template-columns:repeat(2,1fr)}}
.amenities{padding:1rem 0 2rem}
.amenities__list{list-style:none;display:grid;gap:.6rem;padding:0 1.2rem;max-width:900px;margin:0 auto;grid-template-columns:repeat(2,1fr)}
.amenities__list li{background:var(--card);padding:.9rem 1rem;border-radius:10px;box-shadow:var(--shadow)}
@media (max-width:720px){.amenities__list{grid-template-columns:1fr}}
.availability{padding:1rem 0 2rem}
.booking{max-width:900px;margin:0 auto;background:var(--card);border-radius:14px;box-shadow:var(--shadow);padding:1rem 1.2rem}
.booking__grid{display:grid;gap:.8rem;grid-template-columns:repeat(4,1fr)}
.booking__grid label{display:flex;flex-direction:column;gap:.3rem;font-weight:700}
.booking__grid input{padding:.7rem .8rem;border:1px solid #e3e3e3;border-radius:10px;font:inherit}
@media (max-width:820px){.booking__grid{grid-template-columns:repeat(2,1fr)}}
.price{display:grid;grid-template-columns:repeat(5,1fr);gap:.6rem;margin:1rem 0;padding:.8rem;background:#fafafa;border-radius:10px;color:#333}
.price div{background:#fff;border-radius:8px;padding:.6rem .7rem;box-shadow:var(--shadow);text-align:center}
.price strong{font-variant-numeric:tabular-nums}
@media (max-width:820px){.price{grid-template-columns:repeat(2,1fr)}}
.booking__actions{display:flex;gap:.8rem;flex-wrap:wrap}
.ics{max-width:900px;margin:.8rem auto 0;padding:0 1.2rem}
.ics summary{cursor:pointer;font-weight:700}
.ics__status{margin-top:.5rem;color:var(--muted)}
.ics__feed{margin-top:.4rem;font-size:.95rem}
.location{padding:1rem 0 2rem}
.map__wrap{max-width:900px;margin:0 auto;border-radius:14px;overflow:hidden;box-shadow:var(--shadow)}
.map__wrap iframe{width:100%;height:420px;border:0}
.policies{padding:1rem 1.2rem 2rem}
.policies__list{max-width:900px;margin:0 auto;background:var(--card);padding:1rem 1.2rem;border-radius:12px;box-shadow:var(--shadow)}
.footer{background:#111217;color:#fff;padding:2rem 1.2rem}
.footer__grid{max-width:1100px;margin:0 auto;display:grid;gap:1rem;grid-template-columns:repeat(3,1fr)}
.footer a{text-decoration:underline;color:#fff}
.footer h3,.footer h4{color:var(--brand)}
.copyright{text-align:center;margin-top:1.2rem;color:#c9c9c9}
@media (max-width:760px){.footer__grid{grid-template-columns:1fr}}
.wa-bubble{position:fixed;right:16px;bottom:16px;width:56px;height:56px;border-radius:50%;display:grid;place-items:center;background:#25D366;color:#fff;box-shadow:var(--shadow);z-index:50}
.lightbox{position:fixed;inset:0;background:rgba(0,0,0,.85);display:none;align-items:center;justify-content:center;z-index:100}
.lightbox img{max-width:90vw;max-height:85vh;border-radius:12px;box-shadow:var(--shadow)}.lightbox.show{display:flex}
</style>
</head>
<body>
<header class="nav">
  <div class="nav__brand">
    <div class="logo">The Gilded Key Stays</div>
    <div class="tag">your dream stay awaits</div>
  </div>
  <nav class="nav__links">
    <a href="#gallery">Gallery</a>
    <a href="#amenities">Amenities</a>
    <a href="#availability">Availability</a>
    <a href="#location">Location</a>
    <a href="#contact" class="cta">Book Now</a>
  </nav>
</header>

<section class="hero">
  <div class="hero__bg">
    <video class="hero__video" autoplay muted loop playsinline
            poster="https://gildedkeyassets.netlify.app/hero.jpg">
      <source src="https://gildedkeyassets.netlify.app/suite-hero.mp4" type="video/mp4" />
    </video>
  </div>
  <div class="hero__content">
    <h1>Luxury Lavington Suite</h1>
    <p>Modern 1‑bed near Junction Mall — king bed, skyline balcony, pool & gym, 65″ smart TV, high‑speed Wi‑Fi, full kitchen, washer/dryer, and secure smart lock access.</p>
    <div class="chips"><span>King Bed</span><span>Skyline Balcony</span><span>Pool & Gym</span><span>Fast Wi‑Fi</span><span>Washer/Dryer</span></div>
    <div class="pricebadge">From <strong>$50</strong> / night</div>
    <div class="hero__actions">
      <a href="#availability" class="btn">Check Dates</a>
      <a id="whatsappCTA" class="btn btn--ghost" target="_blank" rel="noopener">WhatsApp Us</a>
    </div>
    <div class="trust"><span>✓ Book Direct & Save</span><span>✓ Instant Confirmation</span><span>✓ Secure Payment</span></div>
  </div>
</section>

<section id="gallery" class="gallery">
  <div class="section__head">
    <h2>Gallery</h2>
    <p>A glimpse of your stay.</p>
  </div>
  <div class="gallery__grid">
    <div class="card"><img src="https://gildedkeyassets.netlify.app/hero.jpg" alt="Stylish living & dining area"></div>
    <div class="card"><img src="https://gildedkeyassets.netlify.app/balcony.jpg" alt="Living room with balcony and city views"></div>
    <div class="card"><img src="https://gildedkeyassets.netlify.app/kitchen.jpg" alt="Modern, fully equipped kitchen"></div>
    <div class="card"><img src="https://gildedkeyassets.netlify.app/bedroom.jpg" alt="Bedroom with plush headboard and crisp linens"></div>
    <div class="card"><img src="https://gildedkeyassets.netlify.app/bathroom.jpg" alt="Bathroom with glass shower"></div>
    <div class="card"><img src="https://gildedkeyassets.netlify.app/pool.jpg" alt="Indoor swimming pool"></div>
    <div class="card"><img src="https://gildedkeyassets.netlify.app/gym.jpg" alt="Well-equipped gym"></div>
    <div class="card"><img src="https://gildedkeyassets.netlify.app/kidsplay.jpg" alt="Indoor kids play area"></div>
    <div class="card"><img src="https://gildedkeyassets.netlify.app/parking.jpg" alt="Secure parking & lobby"></div>
    <div class="card"><img src="https://gildedkeyassets.netlify.app/laundry.jpg" alt="In-unit washer/dryer"></div>
  </div>
</section>

<section id="amenities" class="amenities">
  <div class="section__head">
    <h2>Why stay with us</h2>
    <p>Everything you need, nothing you don't.</p>
  </div>
  <ul class="amenities__list">
    <li>Direct booking perks • best price guaranteed</li>
    <li>Work‑friendly: fast Wi‑Fi, spacious dining/work table</li>
    <li>Thoughtful touches: blackout curtains, plush linens, stocked basics</li>
    <li>Self check‑in via smart lock • secure parking</li>
    <li>Full kitchen • washer/dryer in unit</li>
    <li>Pool & gym access • near Junction Mall (Ngong Rd)</li>
  </ul>
</section>

<section id="availability" class="availability">
  <div class="section__head">
    <h2>Availability & Booking</h2>
    <p>Pick your dates. Pay securely. You're set.</p>
  </div>
  <form id="bookingForm" class="booking">
    <div class="booking__grid">
      <label><span>Check‑in</span><input type="date" id="checkIn" required></label>
      <label><span>Check‑out</span><input type="date" id="checkOut" required></label>
      <label><span>Guests</span><input type="number" id="guests" min="1" max="2" value="1" required></label>
      <label><span>Promo code</span><input type="text" id="promo" placeholder="(optional)"></label>
    </div>
    <div class="price">
      <div>Nightly rate: <strong id="nightlyRateDisplay">$50</strong></div>
      <div>Nights: <strong id="nightsDisplay">0</strong></div>
      <div>Subtotal: <strong id="subtotalDisplay">$0</strong></div>
      <div>Cleaning: <strong id="cleaningDisplay">$15</strong></div>
      <div>Total: <strong id="totalDisplay">$0</strong></div>
    </div>
    <div class="booking__actions">
      <button type="submit" class="btn">Reserve</button>
      <a id="airbnbLink" class="btn btn--ghost" target="_blank" rel="noopener">View on Airbnb</a>
    </div>
    <p class="fineprint">* Secure card payments handled by Stripe. A hold may be placed prior to arrival.</p>
  </form>

  <details class="ics">
    <summary>Sync with Airbnb calendar</summary>
    <p>Paste your <strong>Airbnb iCal</strong> URL to block booked dates on the calendar.</p>
    <label><span>Airbnb iCal URL</span><input type="url" id="icalUrl" placeholder="https://www.airbnb.com/calendar/ical/..."></label>
    <button id="loadIcs" class="btn btn--ghost" type="button">Load Calendar</button>
    <div id="icsStatus" class="ics__status"></div>
    <p class="ics__feed">Direct bookings → Airbnb: <a id="directIcsLink" href="/.netlify/functions/direct-ics" target="_blank" rel="noopener">Your Direct Bookings iCal Feed</a></p>
  </details>
</section>

<section id="location" class="location">
  <div class="section__head"><h2>Your Nairobi base</h2><p>Lavington — steps from Junction Mall on Ngong Rd.</p></div>
  <div class="map__wrap"><iframe title="Map" src="https://www.google.com/maps?q=Junction%20Mall%20Nairobi&output=embed" loading="lazy"></iframe></div>
</section>

<section id="policies" class="policies">
  <div class="section__head"><h2>House Rules & Policies</h2></div>
  <ul class="policies__list">
    <li>Check‑in after 2:00 PM • Check‑out by 11:00 AM</li>
    <li>No parties or events • No smoking</li>
    <li>Quiet hours 10:00 PM – 7:00 AM</li>
    <li>Security deposit may be required</li>
    <li>Free cancellation within 48h if check‑in ≥ 7 days away</li>
  </ul>
</section>

<footer id="contact" class="footer">
  <div class="footer__grid">
    <div><h3>The Gilded Key Stays</h3><p>Luxury Lavington Suite<br/>Lavington • Nairobi, Kenya</p><p><a id="telLink">+1 940 603 2432</a></p></div>
    <div><h4>Book direct</h4><p><a id="stripeLink" target="_blank" rel="noopener">Pay securely</a></p><p><a id="waLink" target="_blank" rel="noopener">Chat on WhatsApp</a></p><p><a id="emailLink">stay@gildedkey.africa</a></p></div>
    <div><h4>Follow</h4><p><a href="#" target="_blank" rel="noopener">Instagram</a> · <a href="#" target="_blank" rel="noopener">TikTok</a></p></div>
  </div>
  <p class="copyright">© <span id="year"></span> The Gilded Key. All rights reserved.</p>
</footer>

<a id="waBubble" class="wa-bubble" target="_blank" aria-label="Chat on WhatsApp">
  <svg viewBox="0 0 32 32" width="28" height="28" aria-hidden="true"><path d="M27.5 14.5c0 7.18-5.82 13-13 13-2.28 0-4.42-.59-6.27-1.63L2 27l1.24-6.05C2.15 19.1 1.5 16.87 1.5 14.5 1.5 7.32 7.32 1.5 14.5 1.5s13 5.82 13 13z" fill="currentColor"/></svg>
</a>

<script>
window.GK_CONFIG = {
  whatsappNumber: "+19406032432",
  telNumber: "+19406032432",
  airbnbUrl: "https://www.airbnb.com/l/7DIRsChm",
  stripeCheckoutUrl: "https://checkout.stripe.com/pay/cs_test_...",
  nightlyRate: 50, cleaningFee: 15, promoCodes: {"GILDED10": 0.1}
};
</script>

<script>
// helper links
(function(){
  const cfg=window.GK_CONFIG,$=s=>document.querySelector(s);
  const tel=$("#telLink"),airbnb=$("#airbnbLink"),wa1=document.getElementById("whatsappCTA"),wa2=$("#waLink"),waB=$("#waBubble"),year=$("#year");
  if(year) year.textContent=new Date().getFullYear();
  if(tel&&cfg.telNumber){ tel.href="tel:"+cfg.telNumber; tel.textContent=cfg.telNumber; }
  if(airbnb&&cfg.airbnbUrl) airbnb.href=cfg.airbnbUrl;
  const waHref=m=>{const n=(cfg.whatsappNumber||"").replace(/\D/g,"");return n?`https://wa.me/${n}?text=${encodeURIComponent(m)}`:"#"};
  const msg="Hi! I’d like to book the Luxury Lavington Suite. Are these dates available?";
  if(wa1) wa1.href=waHref(msg); if(wa2) wa2.href=waHref(msg); if(waB) waB.href=waHref(msg);
})();

// price calc + reserve→WhatsApp
(function(){
  const $=s=>document.querySelector(s);
  const nightly=$("#nightlyRateDisplay"),nights=$("#nightsDisplay"),sub=$("#subtotalDisplay"),clean=$("#cleaningDisplay"),tot=$("#totalDisplay");
  const ci=$("#checkIn"),co=$("#checkOut"),promo=$("#promo");
  function fmt(n){return "$"+(Math.round(n*100)/100).toLocaleString(undefined,{minimumFractionDigits:0,maximumFractionDigits:2});}
  function calc(){
    const rate=+GK_CONFIG.nightlyRate||50, fee=+GK_CONFIG.cleaningFee||15;
    let nightsNum=0; if(ci.value&&co.value){const ms=new Date(co.value)-new Date(ci.value); nightsNum=ms>0?Math.round(ms/86400000):0;}
    let subtotal=rate*nightsNum; const code=(promo.value||"").trim().toUpperCase(); if(GK_CONFIG.promoCodes&&GK_CONFIG.promoCodes[code]) subtotal-=subtotal*GK_CONFIG.promoCodes[code];
    nightly.textContent=fmt(rate); nights.textContent=nightsNum; sub.textContent=fmt(Math.max(0,subtotal)); clean.textContent=fmt(nightsNum>0?fee:0); tot.textContent=fmt(Math.max(0,subtotal+(nightsNum>0?fee:0)));
  }
  ["input","change"].forEach(e=>document.addEventListener(e,ev=>{if(["checkIn","checkOut","promo"].includes(ev.target.id)) calc()})); calc();
  const form=$("#bookingForm"); if(form){ form.addEventListener("submit",e=>{e.preventDefault(); if(!ci.value||!co.value) return alert("Please select dates."); window.open(`https://wa.me/${(GK_CONFIG.whatsappNumber||"").replace(/\D/g,"")}?text=`+encodeURIComponent(`Hi! I'd like to reserve from ${ci.value} to ${co.value} for the Luxury Lavington Suite.`),"_blank"); });}
})();

// iCal loader + lightbox
(function(){
  const status=document.getElementById("icsStatus"),btn=document.getElementById("loadIcs"),ical=document.getElementById("icalUrl"),ci=document.getElementById("checkIn"),co=document.getElementById("checkOut");
  let booked=new Set(); const iso=d=>new Date(d.getTime()-d.getTimezoneOffset()*60000).toISOString().slice(0,10);
  function expand(a,b){const m=s=>s&&s.replace("Z","").match(/(\d{4})(\d{2})(\d{2})/);const A=m(a),B=m(b);if(!A||!B)return;let d=new Date(`${A[1]}-${A[2]}-${A[3]}T00:00`),e=new Date(`${B[1]}-${B[2]}-${B[3]}T00:00`);for(;d<e;d.setDate(d.getDate()+1)) booked.add(iso(d));}
  async function load(){const url=ical.value.trim(); if(!url){status.textContent="Paste an iCal URL first.";return;} status.textContent="Loading calendar…"; try{const r=await fetch("/.netlify/functions/fetch-ics?url="+encodeURIComponent(url)); if(!r.ok) throw 0; const ics=await r.text(); booked=new Set(); for(const b of ics.split("BEGIN:VEVENT").slice(1)){expand((b.match(/DTSTART[^:]*:(.+)/)||[])[1],(b.match(/DTEND[^:]*:(.+)/)||[])[1]);} status.textContent=`Synced. Blocked ${booked.size} nights.`; const guard=i=>i.addEventListener("input",ev=>{if(booked.has(ev.target.value)){alert("That date is unavailable."); ev.target.value="";}}); guard(ci); guard(co); const t=iso(new Date()); ci.min=t; co.min=t; }catch(e){status.textContent="Could not load iCal (check URL)."}}
  if(btn) btn.addEventListener("click",load);
  const grid=document.querySelector(".gallery__grid"); if(grid){const lb=document.createElement("div");lb.className="lightbox";const img=document.createElement("img");lb.appendChild(img);document.body.appendChild(lb);grid.addEventListener("click",e=>{const t=e.target;if(t&&t.tagName==="IMG"){img.src=t.src;lb.classList.add("show");}});lb.addEventListener("click",()=>lb.classList.remove("show"));}
})();
</script>
</body></html>
